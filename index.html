<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Book Library Manager</title>
    <meta name="description" content="A simple, persistent personal book library manager.">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>

<body>
    <header class="app-header">
        <div class="container">
            <h1><i class="ph ph-books" style="color: var(--primary-color)"></i> My Library</h1>
            <div class="header-controls">
                <button id="theme-toggle" class="btn btn-icon" aria-label="Toggle Dark Mode">
                    <i class="ph ph-sun icon-sun"></i>
                    <i class="ph ph-moon icon-moon hidden"></i>
                </button>
                <button id="add-book-btn" class="btn btn-primary"><i class="ph ph-plus"></i> Add Book</button>
            </div>
        </div>
    </header>

    <main class="container app-content">
        <aside class="sidebar">
            <div class="filter-group">
                <h3>Search</h3>
                <input type="text" id="search-input" placeholder="Title or Author..." class="form-input">
            </div>
            <div class="filter-group">
                <h3>Categories</h3>
                <ul id="category-filter-list" class="filter-list">

                    <li><button class="filter-btn active" data-category="all">All Books</button></li>
                </ul>
            </div>
            <div class="filter-group">
                <h3>Status</h3>
                <div class="radio-group" id="status-filter-group">
                    <label class="radio-label">
                        <input type="radio" name="status-filter" value="all" checked>
                        <span>All</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="status-filter" value="Available">
                        <span>Available</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="status-filter" value="Borrowed">
                        <span>Borrowed</span>
                    </label>
                </div>
            </div>
        </aside>

        <section class="book-list-container">
            <div class="list-header">
                <h2 id="list-title">All Books</h2>
                <span id="book-count" class="badge">0 books</span>
            </div>
            <div id="book-grid" class="book-grid">

                <div class="empty-state">
                    <p>No books found. Add one to get started!</p>
                </div>
            </div>
        </section>
    </main>

    <div id="book-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Add New Book</h2>
                <button class="close-modal-btn">&times;</button>
            </div>
            <form id="book-form">
                <input type="hidden" id="book-id">
                <div class="form-group">
                    <label for="book-title">Title</label>
                    <input type="text" id="book-title" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="book-author">Author</label>
                    <input type="text" id="book-author" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="book-category">Category</label>
                    <div class="input-with-datalist">
                        <input type="text" id="book-category" list="category-list-suggestions" class="form-input"
                            required placeholder="Select or type new...">
                        <datalist id="category-list-suggestions">

                        </datalist>
                    </div>
                </div>
                <div class="form-group">
                    <label for="book-image">Cover Image URL (Optional)</label>
                    <input type="url" id="book-image" class="form-input" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label>Status</label>
                    <div class="radio-group">
                        <label class="radio-label"><input type="radio" name="book-status" value="Available" checked>
                            <span>Available</span></label>
                        <label class="radio-label"><input type="radio" name="book-status" value="Borrowed">
                            <span>Borrowed</span></label>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary btn-sm close-modal-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Book</button>
                </div>
            </form>
        </div>
    </div>

    <div id="borrow-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Borrow Book</h2>
                <button class="close-modal-btn">&times;</button>
            </div>
            <form id="borrow-form">
                <input type="hidden" id="borrow-book-id">
                <p>Borrowing: <strong id="borrow-book-title">Title</strong></p>
                <div class="form-group">
                    <label for="borrower-name">Borrower Name</label>
                    <input type="text" id="borrower-name" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="borrow-date">Date</label>
                    <input type="date" id="borrow-date" class="form-input" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary btn-sm close-modal-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Confirm</button>
                </div>
            </form>
        </div>
    </div>

    <div id="history-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Borrow History</h2>
                <button class="close-modal-btn">&times;</button>
            </div>
            <div id="history-list-container">
                <!-- History items injected here -->
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-secondary btn-sm close-modal-btn">Close</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>